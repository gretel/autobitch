# -*- mode: bash; coding:utf-8; tab-width: 2; indent-tabs-mode: nil; -*-

set -e

### ...


### automagic
use_auto() {
  # prevent one line of verbose logging
  export DIRENV_LOG_FORMAT=""

  ### include logic
  source_env "$HOME/.automagic"

  ### decorate log output
  auto_log_prefix "$(expand_path "$1")"
}

### set default prefix path
export LOCAL_PATH="/usr/local"

### call wrapper to include .automagic and setup
use_auto "$1"

### argument: prefix of homebrew installation
use homebrew "${LOCAL_PATH-/usr/local}"
### argument: prefix of golang installation
use go "$HOME"
### argument: prefix of node.js installation
use nodejs "${LOCAL_PATH-/usr/local}"
