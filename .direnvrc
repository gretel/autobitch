#!/usr/bin/env bash
#
# -*- mode: bash; coding:utf-8; tab-width: 4; indent-tabs-mode: nil; -*-
# https://github.com/gretel/automagic
# tom hensel <github@jitter.eu> 2016

### ...


### automagic
use_auto() {
    # prevent one line of verbose logging
    export DIRENV_LOG_FORMAT=""

    ### include logic
    source_env "$HOME/.automagic"

    ### decorate log output
    ### comment out to skip logging for '.direnvrc'
    # auto_log_prefix "$(expand_path "$1")"
}

### call wrapper to include .automagic and setup
use_auto "$1"

### argument: prefix of homebrew installation
use homebrew "${PREFIX-/usr/local}"
### argument: prefix of golang installation
use go "$HOME"
### argument: prefix of node.js installation
use node_mini "${PREFIX-/usr/local}"
